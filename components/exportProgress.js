"use strict";let _class="export-progress",_margin=5;export function show(t,e){if(!t)throw"missing web worker reference";let o=document.createElement("div");o.classList.add(_class),o.id="export-progress-dial"+document.getElementsByClassName(_class).length,o.style.bottom=calculateBottomPos().toString()+"px";let s=document.createElement("div");s.classList.add("export-progress-content");let n=document.createElement("span");n.textContent=`Exporting ${e||""}...`;let a=document.createElement("button");return a.classList.add("text-button","has-tooltip"),a.dataset.tooltip="Cancel Export",a.textContent="Cancel",a.addEventListener("click",()=>{t.terminate(),hide(o)}),s.appendChild(n),s.appendChild(a),o.appendChild(s),document.body.appendChild(o),setTimeout(()=>{o.style.opacity=1},50),o.addEventListener("export-finished",hide),o.id}function hide(t){let e=t.target?t.target:t;e.style.opacity=0;for(let t of document.getElementsByClassName(_class))parseInt(t.style.bottom)>parseInt(e.style.bottom)&&(t.style.bottom=(parseInt(t.style.bottom)-_margin-t.offsetHeight).toString()+"px");setTimeout(()=>{e.remove()},500)}function calculateBottomPos(){let t=document.getElementsByClassName(_class),e=t.length?t.length*t[0].offsetHeight+_margin:0;return _margin+e}