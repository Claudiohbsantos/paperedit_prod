export default createBufferFromTranscriptSegments;function createBufferFromTranscriptSegments(e,t){let n=createSegmentBuffers(e,t);if(n.length<1)throw"no segments to join";let r=getTotalSegmentsFrameLength(n),a=(new AudioContext).createBuffer(n[0].numberOfChannels,r,n[0].sampleRate),o=0;return n.forEach(e=>{let t=e.length;for(var n=0;n<e.numberOfChannels;n++)a.copyToChannel(e.getChannelData(n),n,o);o+=t}),a}function getTotalSegmentsFrameLength(e){return e.reduce((e,t)=>e+t.length,0)}function createSegmentBuffers(e,t){let n=new AudioContext,r=[];return t.forEach(t=>{if(!t.striked){let o=e.sampleRate*t.start,f=e.sampleRate*t.end,l=f-o,s=n.createBuffer(e.numberOfChannels,l,e.sampleRate),u=new Float32Array(f-o);for(var a=0;a<e.numberOfChannels;a++)e.copyFromChannel(u,a,o),s.copyToChannel(u,a);r.push(s)}}),r}